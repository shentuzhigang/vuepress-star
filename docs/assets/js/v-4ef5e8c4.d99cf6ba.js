"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[3375],{75180:(s,n,e)=>{e.r(n),e.d(n,{data:()=>a});const a=JSON.parse('{"key":"v-4ef5e8c4","path":"/zh/vuepress-next/reference/plugin/pwa-popup.html","title":"pwa-popup","lang":"zh-CN","frontmatter":{},"excerpt":"","headers":[{"level":2,"title":"安装","slug":"安装","link":"#安装","children":[]},{"level":2,"title":"配置项","slug":"配置项","link":"#配置项","children":[{"level":3,"title":"locales","slug":"locales","link":"#locales","children":[]}]},{"level":2,"title":"样式","slug":"样式","link":"#样式","children":[]}],"git":{"createdTime":1635758933000,"updatedTime":1635758933000,"contributors":[{"name":"shentuzhigang","email":"shentuzhigang@moresec.cn","commits":1}]},"copyright":"","filePathRelative":"zh/vuepress-next/reference/plugin/pwa-popup.md","content":"# pwa-popup\\n\\n<NpmBadge package=\\"@vuepress/plugin-pwa-popup\\" />\\n\\n提供一个弹窗组件，允许用户手动刷新 PWA Service Worker 。\\n\\n该插件必须和 [pwa 插件](./pwa.md) 一起使用，并且 `skipWaiting` 配置项不能设置为 `true` 。\\n\\n当新的 Service Worker 就绪时，会在页面右下角出现一个弹窗，询问用户是否需要激活处于 Waiting 状态的 Service Worker 。\\n\\n## 安装\\n\\n```bash\\nnpm i -D @vuepress/plugin-pwa-popup@next\\n```\\n\\n## 配置项\\n\\n### locales\\n\\n- 类型： `Record<string, { message: string, buttonText: string }>`\\n\\n- 详情：\\n\\n  弹窗在不同 locales 下的信息。\\n\\n  如果没有指定该配置项，它会降级使用默认信息。\\n\\n- 示例：\\n\\n```js\\nmodule.exports = {\\n  plugins: [\\n    [\'@vuepress/plugin-pwa\'],\\n    [\\n      \'@vuepress/plugin-pwa-popup\',\\n      {\\n        locales: {\\n          \'/\': {\\n            message: \'New content is available.\',\\n            buttonText: \'Refresh\',\\n          },\\n          \'/zh/\': {\\n            message: \'发现新内容可用\',\\n            buttonText: \'刷新\',\\n          },\\n        },\\n      },\\n    ],\\n  ],\\n}\\n```\\n\\n- 参考：\\n  - [指南 > 多语言支持](../../guide/i18n.md)\\n\\n## 样式\\n\\n你可以通过 CSS 变量来自定义弹窗的样式：\\n\\n@[code css](@vuepress/plugin-pwa-popup/src/client/styles/vars.css)\\n","author":[{"name":"shentuzhigang","email":"shentuzhigang@moresec.cn"}],"top":false,"length":234,"words":234,"readingTime":0.78}')},70479:(s,n,e)=>{e.r(n),e.d(n,{default:()=>k});var a=e(1863);const l=(0,a._)("h1",{id:"pwa-popup",tabindex:"-1"},[(0,a._)("a",{class:"header-anchor",href:"#pwa-popup","aria-hidden":"true"},"#"),(0,a.Uk)(" pwa-popup")],-1),p=(0,a._)("p",null,"提供一个弹窗组件，允许用户手动刷新 PWA Service Worker 。",-1),i=(0,a._)("code",null,"skipWaiting",-1),o=(0,a._)("code",null,"true",-1),r=(0,a._)("p",null,"当新的 Service Worker 就绪时，会在页面右下角出现一个弹窗，询问用户是否需要激活处于 Waiting 状态的 Service Worker 。",-1),c=(0,a._)("h2",{id:"安装",tabindex:"-1"},[(0,a._)("a",{class:"header-anchor",href:"#安装","aria-hidden":"true"},"#"),(0,a.Uk)(" 安装")],-1),t={class:"code-enhance"},d=(0,a.uE)('<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">npm i -D @vuepress/plugin-pwa-popup@next</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>',1),u=(0,a.uE)('<h2 id="配置项" tabindex="-1"><a class="header-anchor" href="#配置项" aria-hidden="true">#</a> 配置项</h2><h3 id="locales" tabindex="-1"><a class="header-anchor" href="#locales" aria-hidden="true">#</a> locales</h3><ul><li><p>类型： <code>Record&lt;string, { message: string, buttonText: string }&gt;</code></p></li><li><p>详情：</p><p>弹窗在不同 locales 下的信息。</p><p>如果没有指定该配置项，它会降级使用默认信息。</p></li><li><p>示例：</p></li></ul>',3),D={class:"code-enhance"},v=(0,a.uE)('<div class="language-javascript line-numbers-mode" data-ext="js"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#4EC9B0;">module</span><span style="color:#D4D4D4;">.</span><span style="color:#4EC9B0;">exports</span><span style="color:#D4D4D4;"> = {</span></span>\n<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#9CDCFE;">plugins:</span><span style="color:#D4D4D4;"> [</span></span>\n<span class="line"><span style="color:#D4D4D4;">    [</span><span style="color:#CE9178;">&#39;@vuepress/plugin-pwa&#39;</span><span style="color:#D4D4D4;">],</span></span>\n<span class="line"><span style="color:#D4D4D4;">    [</span></span>\n<span class="line"><span style="color:#D4D4D4;">      </span><span style="color:#CE9178;">&#39;@vuepress/plugin-pwa-popup&#39;</span><span style="color:#D4D4D4;">,</span></span>\n<span class="line"><span style="color:#D4D4D4;">      {</span></span>\n<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#9CDCFE;">locales:</span><span style="color:#D4D4D4;"> {</span></span>\n<span class="line"><span style="color:#D4D4D4;">          </span><span style="color:#CE9178;">&#39;/&#39;</span><span style="color:#9CDCFE;">:</span><span style="color:#D4D4D4;"> {</span></span>\n<span class="line"><span style="color:#D4D4D4;">            </span><span style="color:#9CDCFE;">message:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;New content is available.&#39;</span><span style="color:#D4D4D4;">,</span></span>\n<span class="line"><span style="color:#D4D4D4;">            </span><span style="color:#9CDCFE;">buttonText:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;Refresh&#39;</span><span style="color:#D4D4D4;">,</span></span>\n<span class="line"><span style="color:#D4D4D4;">          },</span></span>\n<span class="line"><span style="color:#D4D4D4;">          </span><span style="color:#CE9178;">&#39;/zh/&#39;</span><span style="color:#9CDCFE;">:</span><span style="color:#D4D4D4;"> {</span></span>\n<span class="line"><span style="color:#D4D4D4;">            </span><span style="color:#9CDCFE;">message:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;发现新内容可用&#39;</span><span style="color:#D4D4D4;">,</span></span>\n<span class="line"><span style="color:#D4D4D4;">            </span><span style="color:#9CDCFE;">buttonText:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;刷新&#39;</span><span style="color:#D4D4D4;">,</span></span>\n<span class="line"><span style="color:#D4D4D4;">          },</span></span>\n<span class="line"><span style="color:#D4D4D4;">        },</span></span>\n<span class="line"><span style="color:#D4D4D4;">      },</span></span>\n<span class="line"><span style="color:#D4D4D4;">    ],</span></span>\n<span class="line"><span style="color:#D4D4D4;">  ],</span></span>\n<span class="line"><span style="color:#D4D4D4;">}</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>',1),h=(0,a._)("h2",{id:"样式",tabindex:"-1"},[(0,a._)("a",{class:"header-anchor",href:"#样式","aria-hidden":"true"},"#"),(0,a.Uk)(" 样式")],-1),m=(0,a._)("p",null,"你可以通过 CSS 变量来自定义弹窗的样式：",-1),g={class:"code-enhance"},y=(0,a.uE)('<div class="language-css line-numbers-mode" data-ext="css"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">File not found</span></span></code></pre><div class="line-numbers" aria-hidden="true"></div></div>',1),b={},k=(0,e(94598).Z)(b,[["render",function(s,n){const e=(0,a.up)("NpmBadge"),b=(0,a.up)("RouterLink"),k=(0,a.up)("CodeCopyButton");return(0,a.wg)(),(0,a.iD)("div",null,[l,(0,a.Wm)(e,{package:"@vuepress/plugin-pwa-popup"}),p,(0,a._)("p",null,[(0,a.Uk)("该插件必须和 "),(0,a.Wm)(b,{to:"/zh/vuepress-next/reference/plugin/pwa.html"},{default:(0,a.w5)((()=>[(0,a.Uk)("pwa 插件")])),_:1}),(0,a.Uk)(" 一起使用，并且 "),i,(0,a.Uk)(" 配置项不能设置为 "),o,(0,a.Uk)(" 。")]),r,c,(0,a._)("div",t,[d,(0,a.Wm)(k)]),u,(0,a._)("div",D,[v,(0,a.Wm)(k)]),(0,a._)("ul",null,[(0,a._)("li",null,[(0,a.Uk)("参考： "),(0,a._)("ul",null,[(0,a._)("li",null,[(0,a.Wm)(b,{to:"/zh/vuepress-next/guide/i18n.html"},{default:(0,a.w5)((()=>[(0,a.Uk)("指南 > 多语言支持")])),_:1})])])])]),h,m,(0,a._)("div",g,[y,(0,a.Wm)(k)])])}]])}}]);