"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[5631],{86274:(e,n,s)=>{s.r(n),s.d(n,{data:()=>l});const l=JSON.parse('{"key":"v-30eae203","path":"/zh/vuepress-next/reference/plugin/google-analytics.html","title":"google-analytics","lang":"zh-CN","frontmatter":{},"excerpt":"","headers":[{"level":2,"title":"安装","slug":"安装","link":"#安装","children":[]},{"level":2,"title":"上报事件","slug":"上报事件","link":"#上报事件","children":[]},{"level":2,"title":"配置项","slug":"配置项","link":"#配置项","children":[{"level":3,"title":"id","slug":"id","link":"#id","children":[]}]}],"git":{"createdTime":1635758933000,"updatedTime":1635758933000,"contributors":[{"name":"shentuzhigang","email":"shentuzhigang@moresec.cn","commits":1}]},"copyright":"","filePathRelative":"zh/vuepress-next/reference/plugin/google-analytics.md","content":"# google-analytics\\n\\n<NpmBadge package=\\"@vuepress/plugin-google-analytics\\" />\\n\\n将 [Google Analytics](https://analytics.google.com/) 集成到 VuePress 中。\\n\\n该插件会通过引入 [gtag.js](https://developers.google.com/analytics/devguides/collection/gtagjs) 来启用 [Google Analytics 4](https://support.google.com/analytics/answer/10089681) 。\\n\\n## 安装\\n\\n```bash\\nnpm i -D @vuepress/plugin-google-analytics@next\\n```\\n\\n## 上报事件\\n\\nGoogle Analytics 会 [自动收集部分事件](https://support.google.com/analytics/answer/9234069) ，比如 `page_view`, `first_visit` 等。\\n\\n因此，如果你只是想收集站点的一些基础数据，你只需要正确设置 [Measurement ID](#id) ，不需要再额外做其他事情。\\n\\n在引入该插件之后，一个全局的 `gtag()` 函数会被挂载到 `window` 对象上，你可以使用它进行 [自定义事件的上报](https://developers.google.com/analytics/devguides/collection/ga4/events) 。\\n\\n## 配置项\\n\\n### id\\n\\n- 类型： `string`\\n\\n- 详情：\\n\\n  Google Analytics 4 的 Measurement ID ，应以 `\'G-\'` 开头。\\n\\n  你可以通过 [这里](https://support.google.com/analytics/answer/9539598) 的指引来找到你的 Measurement ID 。注意区分 Google Analytics 4 的 Measurement ID （即 \\"G-\\" 开头的 ID） 和 Universal Analytics 的 Tracking ID （即 \\"UA-\\" 开头的 ID）。\\n\\n- 示例：\\n\\n```js\\nmodule.exports = {\\n  plugins: [\\n    [\\n      \'@vuepress/plugin-google-analytics\',\\n      {\\n        id: \'G-XXXXXXXXXX\',\\n      },\\n    ],\\n  ],\\n}\\n```\\n","author":[{"name":"shentuzhigang","email":"shentuzhigang@moresec.cn"}],"top":false,"length":257,"words":257,"readingTime":0.86}')},12081:(e,n,s)=>{s.r(n),s.d(n,{default:()=>I});var l=s(1863);const a=(0,l._)("h1",{id:"google-analytics",tabindex:"-1"},[(0,l._)("a",{class:"header-anchor",href:"#google-analytics","aria-hidden":"true"},"#"),(0,l.Uk)(" google-analytics")],-1),o={href:"https://analytics.google.com/",target:"_blank",rel:"noopener noreferrer"},i={href:"https://developers.google.com/analytics/devguides/collection/gtagjs",target:"_blank",rel:"noopener noreferrer"},r={href:"https://support.google.com/analytics/answer/10089681",target:"_blank",rel:"noopener noreferrer"},t=(0,l._)("h2",{id:"安装",tabindex:"-1"},[(0,l._)("a",{class:"header-anchor",href:"#安装","aria-hidden":"true"},"#"),(0,l.Uk)(" 安装")],-1),c={class:"code-enhance"},p=(0,l.uE)('<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">npm i -D @vuepress/plugin-google-analytics@next</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>',1),d=(0,l._)("h2",{id:"上报事件",tabindex:"-1"},[(0,l._)("a",{class:"header-anchor",href:"#上报事件","aria-hidden":"true"},"#"),(0,l.Uk)(" 上报事件")],-1),g={href:"https://support.google.com/analytics/answer/9234069",target:"_blank",rel:"noopener noreferrer"},u=(0,l._)("code",null,"page_view",-1),h=(0,l._)("code",null,"first_visit",-1),D=(0,l._)("p",null,[(0,l.Uk)("因此，如果你只是想收集站点的一些基础数据，你只需要正确设置 "),(0,l._)("a",{href:"#id"},"Measurement ID"),(0,l.Uk)(" ，不需要再额外做其他事情。")],-1),m=(0,l._)("code",null,"gtag()",-1),v=(0,l._)("code",null,"window",-1),y={href:"https://developers.google.com/analytics/devguides/collection/ga4/events",target:"_blank",rel:"noopener noreferrer"},k=(0,l._)("h2",{id:"配置项",tabindex:"-1"},[(0,l._)("a",{class:"header-anchor",href:"#配置项","aria-hidden":"true"},"#"),(0,l.Uk)(" 配置项")],-1),_=(0,l._)("h3",{id:"id",tabindex:"-1"},[(0,l._)("a",{class:"header-anchor",href:"#id","aria-hidden":"true"},"#"),(0,l.Uk)(" id")],-1),U=(0,l._)("li",null,[(0,l._)("p",null,[(0,l.Uk)("类型： "),(0,l._)("code",null,"string")])],-1),b=(0,l._)("p",null,"详情：",-1),f=(0,l._)("p",null,[(0,l.Uk)("Google Analytics 4 的 Measurement ID ，应以 "),(0,l._)("code",null,"'G-'"),(0,l.Uk)(" 开头。")],-1),X={href:"https://support.google.com/analytics/answer/9539598",target:"_blank",rel:"noopener noreferrer"},w=(0,l._)("li",null,[(0,l._)("p",null,"示例：")],-1),G={class:"code-enhance"},x=(0,l.uE)('<div class="language-javascript line-numbers-mode" data-ext="js"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#4EC9B0;">module</span><span style="color:#D4D4D4;">.</span><span style="color:#4EC9B0;">exports</span><span style="color:#D4D4D4;"> = {</span></span>\n<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#9CDCFE;">plugins:</span><span style="color:#D4D4D4;"> [</span></span>\n<span class="line"><span style="color:#D4D4D4;">    [</span></span>\n<span class="line"><span style="color:#D4D4D4;">      </span><span style="color:#CE9178;">&#39;@vuepress/plugin-google-analytics&#39;</span><span style="color:#D4D4D4;">,</span></span>\n<span class="line"><span style="color:#D4D4D4;">      {</span></span>\n<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#9CDCFE;">id:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;G-XXXXXXXXXX&#39;</span><span style="color:#D4D4D4;">,</span></span>\n<span class="line"><span style="color:#D4D4D4;">      },</span></span>\n<span class="line"><span style="color:#D4D4D4;">    ],</span></span>\n<span class="line"><span style="color:#D4D4D4;">  ],</span></span>\n<span class="line"><span style="color:#D4D4D4;">}</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>',1),E={},I=(0,s(94598).Z)(E,[["render",function(e,n){const s=(0,l.up)("NpmBadge"),E=(0,l.up)("ExternalLinkIcon"),I=(0,l.up)("CodeCopyButton");return(0,l.wg)(),(0,l.iD)("div",null,[a,(0,l.Wm)(s,{package:"@vuepress/plugin-google-analytics"}),(0,l._)("p",null,[(0,l.Uk)("将 "),(0,l._)("a",o,[(0,l.Uk)("Google Analytics"),(0,l.Wm)(E)]),(0,l.Uk)(" 集成到 VuePress 中。")]),(0,l._)("p",null,[(0,l.Uk)("该插件会通过引入 "),(0,l._)("a",i,[(0,l.Uk)("gtag.js"),(0,l.Wm)(E)]),(0,l.Uk)(" 来启用 "),(0,l._)("a",r,[(0,l.Uk)("Google Analytics 4"),(0,l.Wm)(E)]),(0,l.Uk)(" 。")]),t,(0,l._)("div",c,[p,(0,l.Wm)(I)]),d,(0,l._)("p",null,[(0,l.Uk)("Google Analytics 会 "),(0,l._)("a",g,[(0,l.Uk)("自动收集部分事件"),(0,l.Wm)(E)]),(0,l.Uk)(" ，比如 "),u,(0,l.Uk)(", "),h,(0,l.Uk)(" 等。")]),D,(0,l._)("p",null,[(0,l.Uk)("在引入该插件之后，一个全局的 "),m,(0,l.Uk)(" 函数会被挂载到 "),v,(0,l.Uk)(" 对象上，你可以使用它进行 "),(0,l._)("a",y,[(0,l.Uk)("自定义事件的上报"),(0,l.Wm)(E)]),(0,l.Uk)(" 。")]),k,_,(0,l._)("ul",null,[U,(0,l._)("li",null,[b,f,(0,l._)("p",null,[(0,l.Uk)("你可以通过 "),(0,l._)("a",X,[(0,l.Uk)("这里"),(0,l.Wm)(E)]),(0,l.Uk)(" 的指引来找到你的 Measurement ID 。注意区分 Google Analytics 4 的 Measurement ID （即 “G-” 开头的 ID） 和 Universal Analytics 的 Tracking ID （即 “UA-” 开头的 ID）。")])]),w]),(0,l._)("div",G,[x,(0,l.Wm)(I)])])}]])}}]);