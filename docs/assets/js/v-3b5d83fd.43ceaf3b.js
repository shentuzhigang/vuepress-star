"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[4107],{39675:(n,s,e)=>{e.r(s),e.d(s,{data:()=>a});const a=JSON.parse('{"key":"v-3b5d83fd","path":"/zh/vuepress-next/reference/plugin/register-components.html","title":"register-components","lang":"zh-CN","frontmatter":{},"excerpt":"","headers":[{"level":2,"title":"安装","slug":"安装","link":"#安装","children":[]},{"level":2,"title":"配置项","slug":"配置项","link":"#配置项","children":[{"level":3,"title":"components","slug":"components","link":"#components","children":[]},{"level":3,"title":"componentsDir","slug":"componentsdir","link":"#componentsdir","children":[]},{"level":3,"title":"componentsPatterns","slug":"componentspatterns","link":"#componentspatterns","children":[]},{"level":3,"title":"getComponentName","slug":"getcomponentname","link":"#getcomponentname","children":[]}]}],"git":{"createdTime":1635758933000,"updatedTime":1635758933000,"contributors":[{"name":"shentuzhigang","email":"shentuzhigang@moresec.cn","commits":1}]},"copyright":"","filePathRelative":"zh/vuepress-next/reference/plugin/register-components.md","content":"# register-components\\n\\n<NpmBadge package=\\"@vuepress/plugin-register-components\\" />\\n\\n根据组件文件或目录自动注册 Vue 组件。\\n\\n## 安装\\n\\n```bash\\nnpm i -D @vuepress/plugin-register-components@next\\n```\\n\\n## 配置项\\n\\n### components\\n\\n- 类型： `Record<string, string>`\\n\\n- 默认值： `{}`\\n\\n- 详情：\\n\\n  一个定义了组件名称和其对应文件路径的对象。\\n\\n  键会被用作组件名称，值是组件文件的绝对路径。\\n\\n  如果该配置项中的组件名称和 [componentsDir](#componentsdir) 配置项发生冲突，那么该配置项会有更高的优先级。\\n\\n- 示例：\\n\\n```js\\nconst { path } = require(\'@vuepress/utils\')\\n\\nmodule.exports = {\\n  plugins: [\\n    [\\n      \'@vuepress/register-components\',\\n      {\\n        components: {\\n          FooBar: path.resolve(__dirname, \'./components/FooBar.vue\'),\\n        },\\n      },\\n    ],\\n  ],\\n}\\n```\\n\\n### componentsDir\\n\\n- 类型： `string | null`\\n\\n- 默认值： `null`\\n\\n- 详情：\\n\\n  组件目录的绝对路径。\\n\\n  该目录下匹配 [componentsPatterns](#componentspatterns) 的文件会被自动注册为 Vue 组件。\\n\\n- 示例：\\n\\n```js\\nmodule.exports = {\\n  plugins: [\\n    [\\n      \'@vuepress/register-components\',\\n      {\\n        componentsDir: path.resolve(__dirname, \'./components\'),\\n      },\\n    ],\\n  ],\\n}\\n```\\n\\n组件目录：\\n\\n```bash\\ncomponents\\n├─ FooBar.vue\\n└─ Baz.vue\\n```\\n\\n组件会像这样被注册：\\n\\n```js\\nimport { defineAsyncComponent } from \'vue\'\\n\\napp.component(\\n  \'FooBar\',\\n  defineAsyncComponent(() => import(\'/path/to/components/FooBar.vue\'))\\n)\\n\\napp.component(\\n  \'Baz\',\\n  defineAsyncComponent(() => import(\'/path/to/components/Baz.vue\'))\\n)\\n```\\n\\n### componentsPatterns\\n\\n- 类型： `string[]`\\n\\n- 默认值： `[\'**/*.vue\']`\\n\\n- 详情：\\n\\n  使用 [globby](https://github.com/sindresorhus/globby) 来匹配组件文件的 Patterns 。\\n\\n  该 Patterns 是相对于 [componentsDir](#componentsdir) 目录的。\\n\\n### getComponentName\\n\\n- 类型： `(filename: string) => string`\\n\\n- 默认值： `(filename) => path.trimExt(filename.replace(/\\\\/|\\\\\\\\/g, \'-\'))`\\n\\n- 详情：\\n\\n  用于从文件名获取对应组件名称的函数。\\n  \\n  它只会对 [componentsDir](#componentsdir) 目录下匹配了 [componentsPatterns](#componentspatterns) 的文件生效。\\n\\n  注意，这里的 `filename` 是相对于 [componentsPatterns](#componentspatterns) 目录的文件路径。\\n","author":[{"name":"shentuzhigang","email":"shentuzhigang@moresec.cn"}],"top":false,"length":357,"words":357,"readingTime":1.19}')},9088:(n,s,e)=>{e.r(s),e.d(s,{default:()=>P});var a=e(1863);const l=(0,a._)("h1",{id:"register-components",tabindex:"-1"},[(0,a._)("a",{class:"header-anchor",href:"#register-components","aria-hidden":"true"},"#"),(0,a.Uk)(" register-components")],-1),p=(0,a._)("p",null,"根据组件文件或目录自动注册 Vue 组件。",-1),o=(0,a._)("h2",{id:"安装",tabindex:"-1"},[(0,a._)("a",{class:"header-anchor",href:"#安装","aria-hidden":"true"},"#"),(0,a.Uk)(" 安装")],-1),t={class:"code-enhance"},r=(0,a.uE)('<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">npm i -D @vuepress/plugin-register-components@next</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>',1),i=(0,a.uE)('<h2 id="配置项" tabindex="-1"><a class="header-anchor" href="#配置项" aria-hidden="true">#</a> 配置项</h2><h3 id="components" tabindex="-1"><a class="header-anchor" href="#components" aria-hidden="true">#</a> components</h3><ul><li><p>类型： <code>Record&lt;string, string&gt;</code></p></li><li><p>默认值： <code>{}</code></p></li><li><p>详情：</p><p>一个定义了组件名称和其对应文件路径的对象。</p><p>键会被用作组件名称，值是组件文件的绝对路径。</p><p>如果该配置项中的组件名称和 <a href="#componentsdir">componentsDir</a> 配置项发生冲突，那么该配置项会有更高的优先级。</p></li><li><p>示例：</p></li></ul>',3),c={class:"code-enhance"},D=(0,a.uE)('<div class="language-javascript line-numbers-mode" data-ext="js"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#569CD6;">const</span><span style="color:#D4D4D4;"> { </span><span style="color:#4FC1FF;">path</span><span style="color:#D4D4D4;"> } = </span><span style="color:#DCDCAA;">require</span><span style="color:#D4D4D4;">(</span><span style="color:#CE9178;">&#39;@vuepress/utils&#39;</span><span style="color:#D4D4D4;">)</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#4EC9B0;">module</span><span style="color:#D4D4D4;">.</span><span style="color:#4EC9B0;">exports</span><span style="color:#D4D4D4;"> = {</span></span>\n<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#9CDCFE;">plugins:</span><span style="color:#D4D4D4;"> [</span></span>\n<span class="line"><span style="color:#D4D4D4;">    [</span></span>\n<span class="line"><span style="color:#D4D4D4;">      </span><span style="color:#CE9178;">&#39;@vuepress/register-components&#39;</span><span style="color:#D4D4D4;">,</span></span>\n<span class="line"><span style="color:#D4D4D4;">      {</span></span>\n<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#9CDCFE;">components:</span><span style="color:#D4D4D4;"> {</span></span>\n<span class="line"><span style="color:#D4D4D4;">          </span><span style="color:#9CDCFE;">FooBar:</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">path</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">resolve</span><span style="color:#D4D4D4;">(</span><span style="color:#9CDCFE;">__dirname</span><span style="color:#D4D4D4;">, </span><span style="color:#CE9178;">&#39;./components/FooBar.vue&#39;</span><span style="color:#D4D4D4;">),</span></span>\n<span class="line"><span style="color:#D4D4D4;">        },</span></span>\n<span class="line"><span style="color:#D4D4D4;">      },</span></span>\n<span class="line"><span style="color:#D4D4D4;">    ],</span></span>\n<span class="line"><span style="color:#D4D4D4;">  ],</span></span>\n<span class="line"><span style="color:#D4D4D4;">}</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>',1),d=(0,a.uE)('<h3 id="componentsdir" tabindex="-1"><a class="header-anchor" href="#componentsdir" aria-hidden="true">#</a> componentsDir</h3><ul><li><p>类型： <code>string | null</code></p></li><li><p>默认值： <code>null</code></p></li><li><p>详情：</p><p>组件目录的绝对路径。</p><p>该目录下匹配 <a href="#componentspatterns">componentsPatterns</a> 的文件会被自动注册为 Vue 组件。</p></li><li><p>示例：</p></li></ul>',2),m={class:"code-enhance"},u=(0,a.uE)('<div class="language-javascript line-numbers-mode" data-ext="js"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#4EC9B0;">module</span><span style="color:#D4D4D4;">.</span><span style="color:#4EC9B0;">exports</span><span style="color:#D4D4D4;"> = {</span></span>\n<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#9CDCFE;">plugins:</span><span style="color:#D4D4D4;"> [</span></span>\n<span class="line"><span style="color:#D4D4D4;">    [</span></span>\n<span class="line"><span style="color:#D4D4D4;">      </span><span style="color:#CE9178;">&#39;@vuepress/register-components&#39;</span><span style="color:#D4D4D4;">,</span></span>\n<span class="line"><span style="color:#D4D4D4;">      {</span></span>\n<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#9CDCFE;">componentsDir:</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">path</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">resolve</span><span style="color:#D4D4D4;">(</span><span style="color:#9CDCFE;">__dirname</span><span style="color:#D4D4D4;">, </span><span style="color:#CE9178;">&#39;./components&#39;</span><span style="color:#D4D4D4;">),</span></span>\n<span class="line"><span style="color:#D4D4D4;">      },</span></span>\n<span class="line"><span style="color:#D4D4D4;">    ],</span></span>\n<span class="line"><span style="color:#D4D4D4;">  ],</span></span>\n<span class="line"><span style="color:#D4D4D4;">}</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>',1),v=(0,a._)("p",null,"组件目录：",-1),y={class:"code-enhance"},h=(0,a.uE)('<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">components</span></span>\n<span class="line"><span style="color:#D4D4D4;">├─ FooBar.vue</span></span>\n<span class="line"><span style="color:#D4D4D4;">└─ Baz.vue</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>',1),g=(0,a._)("p",null,"组件会像这样被注册：",-1),b={class:"code-enhance"},C=(0,a.uE)('<div class="language-javascript line-numbers-mode" data-ext="js"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#C586C0;">import</span><span style="color:#D4D4D4;"> { </span><span style="color:#9CDCFE;">defineAsyncComponent</span><span style="color:#D4D4D4;"> } </span><span style="color:#C586C0;">from</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;vue&#39;</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#9CDCFE;">app</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">component</span><span style="color:#D4D4D4;">(</span></span>\n<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#CE9178;">&#39;FooBar&#39;</span><span style="color:#D4D4D4;">,</span></span>\n<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#DCDCAA;">defineAsyncComponent</span><span style="color:#D4D4D4;">(() </span><span style="color:#569CD6;">=&gt;</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">import</span><span style="color:#D4D4D4;">(</span><span style="color:#CE9178;">&#39;/path/to/components/FooBar.vue&#39;</span><span style="color:#D4D4D4;">))</span></span>\n<span class="line"><span style="color:#D4D4D4;">)</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#9CDCFE;">app</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">component</span><span style="color:#D4D4D4;">(</span></span>\n<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#CE9178;">&#39;Baz&#39;</span><span style="color:#D4D4D4;">,</span></span>\n<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#DCDCAA;">defineAsyncComponent</span><span style="color:#D4D4D4;">(() </span><span style="color:#569CD6;">=&gt;</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">import</span><span style="color:#D4D4D4;">(</span><span style="color:#CE9178;">&#39;/path/to/components/Baz.vue&#39;</span><span style="color:#D4D4D4;">))</span></span>\n<span class="line"><span style="color:#D4D4D4;">)</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>',1),E=(0,a._)("h3",{id:"componentspatterns",tabindex:"-1"},[(0,a._)("a",{class:"header-anchor",href:"#componentspatterns","aria-hidden":"true"},"#"),(0,a.Uk)(" componentsPatterns")],-1),f=(0,a._)("li",null,[(0,a._)("p",null,[(0,a.Uk)("类型： "),(0,a._)("code",null,"string[]")])],-1),_=(0,a._)("li",null,[(0,a._)("p",null,[(0,a.Uk)("默认值： "),(0,a._)("code",null,"['**/*.vue']")])],-1),k=(0,a._)("p",null,"详情：",-1),F={href:"https://github.com/sindresorhus/globby",target:"_blank",rel:"noopener noreferrer"},x=(0,a._)("p",null,[(0,a.Uk)("该 Patterns 是相对于 "),(0,a._)("a",{href:"#componentsdir"},"componentsDir"),(0,a.Uk)(" 目录的。")],-1),B=(0,a.uE)('<h3 id="getcomponentname" tabindex="-1"><a class="header-anchor" href="#getcomponentname" aria-hidden="true">#</a> getComponentName</h3><ul><li><p>类型： <code>(filename: string) =&gt; string</code></p></li><li><p>默认值： <code>(filename) =&gt; path.trimExt(filename.replace(/\\/|\\\\/g, &#39;-&#39;))</code></p></li><li><p>详情：</p><p>用于从文件名获取对应组件名称的函数。</p><p>它只会对 <a href="#componentsdir">componentsDir</a> 目录下匹配了 <a href="#componentspatterns">componentsPatterns</a> 的文件生效。</p><p>注意，这里的 <code>filename</code> 是相对于 <a href="#componentspatterns">componentsPatterns</a> 目录的文件路径。</p></li></ul>',2),A={},P=(0,e(94598).Z)(A,[["render",function(n,s){const e=(0,a.up)("NpmBadge"),A=(0,a.up)("CodeCopyButton"),P=(0,a.up)("ExternalLinkIcon");return(0,a.wg)(),(0,a.iD)("div",null,[l,(0,a.Wm)(e,{package:"@vuepress/plugin-register-components"}),p,o,(0,a._)("div",t,[r,(0,a.Wm)(A)]),i,(0,a._)("div",c,[D,(0,a.Wm)(A)]),d,(0,a._)("div",m,[u,(0,a.Wm)(A)]),v,(0,a._)("div",y,[h,(0,a.Wm)(A)]),g,(0,a._)("div",b,[C,(0,a.Wm)(A)]),E,(0,a._)("ul",null,[f,_,(0,a._)("li",null,[k,(0,a._)("p",null,[(0,a.Uk)("使用 "),(0,a._)("a",F,[(0,a.Uk)("globby"),(0,a.Wm)(P)]),(0,a.Uk)(" 来匹配组件文件的 Patterns 。")]),x])]),B])}]])}}]);